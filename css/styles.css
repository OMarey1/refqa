
/* Import theme and component styles */
@import url('themes.css');
@import url('components.css');

html, body { height: 100%; }
html { scroll-behavior: smooth; }
body{
  margin:0;
  background: linear-gradient(180deg, var(--bg), color-mix(in oklab, var(--bg) 80%, var(--surface) 20%) 40%, var(--bg));
  color: var(--text);
  font-family: var(--font);
  font-size: var(--size);
  line-height: var(--line);
  letter-spacing: .2px;
}

/* RTL/LTR logical props */
main, .site-header, .site-footer { padding-inline: clamp(16px, 4vw, 56px); }

.skip-link{
  position:absolute; inset-block-start: -40px;
  inset-inline-start: 12px;
  background: var(--focus); color:#0b1220; padding:.6rem .9rem;
  border-radius: 10px; text-decoration:none; font-weight:600;
}
.skip-link:focus{ inset-block-start: 12px; outline: 3px solid #000; }

.hero{ display:grid; grid-template-columns: 1.2fr 1fr; gap: clamp(16px, 3vw, 32px); padding-block: clamp(28px, 8vw, 80px); align-items:center; }
.hero-content h1{ font-size: clamp(1.6rem, 2.6vw, 2.6rem); margin: 0 0 .6rem; }
.lead{ color: var(--muted); font-size: 1.05rem; }
.cta-row{ display:flex; gap: 10px; margin-block-start: 1rem; }
.button{ --bg: var(--surface); --fg: var(--text);
  background: var(--bg); color: var(--fg); border: 1px solid var(--border); 
  padding: .7rem 1rem; border-radius: 12px; text-decoration:none; display:inline-flex; align-items:center; gap: .5rem; font-weight:700;
}
.button.solid{ --bg: linear-gradient(135deg, var(--brand), var(--brand-2)); --fg: #08111f; border-color: color-mix(in oklab, var(--brand) 60%, #000 40%); }
.button.ghost{ background: transparent; }
.button.warn{ --bg: color-mix(in lab, var(--warn) 80%, #000 20%); --fg:#111; border-color: #ff9494; }

.hero-visual{ position:relative; height: clamp(200px, 35vw, 380px); }
.hero-visual .circle{
  position:absolute; inset:0; margin:auto; width: 80%; height: 80%;
  border-radius: 50%; filter: blur(40px);
  background: radial-gradient(circle at 30% 30%, var(--brand), transparent 60%),
              radial-gradient(circle at 70% 70%, var(--brand-2), transparent 60%);
  animation: breathe 9s ease-in-out infinite;
}
.hero-visual .circle:nth-child(2){ width: 60%; height:60%; animation-delay: -2s; }
.hero-visual .circle:nth-child(3){ width:40%; height:40%; animation-delay: -4s; }
@keyframes breathe{ 50%{ transform: scale(1.08) translateY(-6px);} }

.features{ display:grid; grid-template-columns: repeat(auto-fit, minmax(220px,1fr)); gap: 16px; padding-block: 28px; }
.feature-card{
  background: var(--card); border: 1px solid var(--border); border-radius: var(--radius);
  padding: 16px; box-shadow: var(--shadow); min-height: 150px;
}
.feature-card .icon{ font-size: 1.5rem; }

.callout{ background: linear-gradient(135deg, color-mix(in oklab, var(--brand) 25%, transparent), transparent 60%);
  border:1px dashed var(--border); border-radius: var(--radius); padding: 20px; margin-block: 20px;
}

.toolbar{ display:flex; align-items:end; justify-content:space-between; gap:16px; padding-block: 24px; }
.filter{ display:grid; grid-template-columns: 1fr 240px 160px; gap: 10px; align-items:end; }
label{ font-weight: 700; }
input, select{
  background: var(--surface); color: var(--text); border: 1px solid var(--border); border-radius: 10px;
  padding: .6rem .7rem; width:100%;
}
input::placeholder{ color: color-mix(in oklab, var(--muted) 70%, transparent); }

.cards{ display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 14px; padding-block: 10px 30px; }
.card{
  background: var(--card); border:1px solid var(--border); border-radius: var(--radius); padding: 16px; display:flex; flex-direction:column; gap:8px; min-height: 170px;
}
.badge{ display:inline-flex; padding:.2rem .5rem; border-radius: 999px; border:1px solid var(--border); background: var(--surface); color: var(--muted); font-weight:700; font-size:.8rem; }

.prose{ max-width: 70ch; padding-block: 24px; }
.prose h1{ margin-top: 0; }

.auth{ max-width: 560px; margin-inline:auto; padding-block: 28px; }
.form-field{ display:grid; gap: 6px; margin-block: 10px; }
.hint{ color: var(--muted); font-size: .9rem; }
.small{ color: var(--muted); }
.form-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; }

.role-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(210px,1fr)); gap: 10px; margin-block: 12px; }
.role-card{ 
  background: var(--card); border: 2px solid var(--border); border-radius: 14px; padding: 12px; display:grid; gap: 6px; cursor:pointer;
}
.role-card:hover, .role-card:has(input:focus-visible){ border-color: var(--brand); }
.role-card input{ position:absolute; inset:0; opacity:0; pointer-events:none; }
.role-icon{ font-size: 1.4rem; }
.role-name{ font-weight: 800; }
.role-desc{ color: var(--muted); font-size: .95rem; }

.check{ display:flex; align-items:center; gap: 8px; margin-block: 12px; }

.dashboard{ padding-block: 24px; }
.dash-header{ display:grid; gap: 10px; align-items:center; grid-template-columns: 1fr auto auto; }
.role-badge{ justify-self:start; }
.dash-actions{ justify-self:end; display:flex; gap: 10px; }
.dash-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(260px,1fr)); gap: 14px; margin-block: 16px; }



/* Accessibility dialog */
.a11y-panel{ 
  background: var(--card); 
  color: var(--text); 
  border:1px solid var(--border); 
  border-radius: 16px; 
  padding: 16px; 
  width:min(92vw, 520px); 
  box-shadow: var(--shadow);
}

.a11y-grid{ 
  display:grid; 
  gap: 10px; 
  margin-block: 10px; 
}

.switch{ 
  display:flex; 
  align-items:center; 
  gap: 10px; 
}

.switch input[type="checkbox"] {
  width: auto;
  margin: 0;
}



/* Screen reader only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Focus styles */
:focus-visible{ outline: 3px solid var(--focus); outline-offset: 3px; border-radius: 8px; }

/* Responsive */
@media (max-width: 960px){
  .hero{ grid-template-columns: 1fr; }
  .filter{ grid-template-columns: 1fr; }
  .dash-header{ grid-template-columns: 1fr; }
}

/* Right-to-left adjustments using logical properties only.
   We set [dir="rtl"] on <html> in JS; layout uses logical props so minimal overrides are needed.
*/
[dir="rtl"] .brand-name{ letter-spacing: 0; }
[dir="rtl"] .hero-content h1{ text-align: start; }
